.MAIN = Begin

.data
BYTE  Global1
BYTE  Local1
BYTE  temp
BYTE  input
BYTE  str
BYTE  OOP
BYTE  NightCoding

.code
JUMP  START

ReadLine:
PUSH A1 
MOVE A0 , A1 
ASSIGN  BYTE  R1 , 7
ASSIGN  A2 , Global1
LOAD  R2 , A2
SUB  WORD  R1 , R2 , R2
MOVE R0 , R2
POP A1
RETURN

WriteLine:
PUSH A1 
MOVE A0 , A1 
ASSIGN  BYTE  R1 , 9
ASSIGN  BYTE  R2 , 6
MUL  WORD  R1 , R2 , R2
ASSIGN  A2 , ReadLine
CALL  A2
ASSIGN  BYTE  R1 , 7
SUB  DWORD  R0 , R1 , R1
ADD  WORD  R1 , R2 , R2
MOVE R0 , R2
POP A1
RETURN

Assembly:
PUSH A1 
MOVE A0 , A1 
ASSIGN  BYTE  R1 , 13
ASSIGN  A2 , Global1
LOAD R2 , A2
MOVE R0 , R2
POP A1
RETURN


START:
PUSH A1 
MOVE A0 , A1 
ASSIGN  BYTE  R1 , 92
ASSIGN  A2 , Global1
STORE  A2 , R1

ASSIGN  A3 , ReadLine
CALL  A3
ASSIGN  A3 , WriteLine
CALL  A3
ASSIGN  A2 , Assembly
CALL  A2
ASSIGN  BYTE  R1 , 6
ASSIGN  BYTE  R2 , 2
SUB  WORD  R1 , R2 , R2
ASSIGN  BYTE  R1 , 7
ASSIGN  BYTE  R3 , 9
MUL  DWORD  R1 , R3 , R3
DIV  DWORD  R3 , R2 , R3
ASSIGN  BYTE  R1 , 5
SUB  DWORD  R3 , R1 , R3
ASSIGN  A2 , Local1
STORE  A2 , R3

ADD  BYTE  R4 , R1 , R4
ASSIGN  BYTE  R1 , 7
ADD  BYTE  R4 , R1 , R4
ASSIGN  A2 , temp
STORE  A2 , R4

ASSIGN  BYTE  R1 , 5
ASSIGN  BYTE  R2 , 13
MUL  WORD  R1 , R2 , R2
ASSIGN  A2 , input
STORE  A2 , R2

ASSIGN  A2 , WriteLine
CALL  A2
ASSIGN  A3 , ReadLine
CALL  A3
ADD  WORD  R0 , R2 , R2
ASSIGN  BYTE  R1 , 7
ADD  WORD  R2 , R1 , R2
ASSIGN  A4 , str
STORE  A4 , R2

ASSIGN  A2 , Assembly
CALL  A2
ASSIGN  BYTE  R1 , 8
ADD  DWORD  R0 , R1 , R1
ASSIGN  BYTE  R2 , 3
ASSIGN  A3 , Global1
LOAD R3 , A3
MUL  DWORD  R3 , R2 , R3
ADD  DWORD  R3 , R1 , R3
ASSIGN  A3 , OOP
STORE  A3 , R3

ASSIGN  BYTE  R1 , 6
ASSIGN  BYTE  R2 , 6
DIV  WORD  R1 , R2 , R2
ASSIGN  BYTE  R1 , 0
ADD  WORD  R2 , R1 , R2
ASSIGN  A2 , NightCoding
STORE  A2 , R2


POP A1
RETURN

EXIT